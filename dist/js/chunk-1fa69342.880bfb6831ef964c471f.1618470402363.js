(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fa69342"],{"3a13":function(e,a,t){},"42bc":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"appSurvey"},[t("div",{staticClass:"appSurveyContainer"},[t("div",{staticClass:"headContainer"},[t("div",{staticClass:"pagetarge"},[t("el-tabs",{staticClass:"spanBtn",on:{"tab-click":e.PageNameBtn},model:{value:e.PageName,callback:function(a){e.PageName=a},expression:"PageName"}},[t("el-tab-pane",{attrs:{label:"总流量",name:"1"}}),t("el-tab-pane",{attrs:{label:"落地页",name:"2"}}),t("el-tab-pane",{attrs:{label:"列表页",name:"3"}}),t("el-tab-pane",{attrs:{label:"播放页",name:"4"}})],1),e._m(0)],1),t("div",{staticClass:"rightSelect"},[t("el-cascader",{attrs:{placeholder:"输入或选择",expandTrigger:"hover",filterable:"",options:e.options,"change-on-select":"","show-all-levels":!1},on:{change:function(a){return e.changeRight()}},model:{value:e.rightName,callback:function(a){e.rightName=a},expression:"rightName"}})],1)]),t("div",{staticClass:"surveyContainer"},[t("div",{staticClass:"surveyTop"},[t("h3",[e._v("数据总览")]),2==e.PageName||3==e.PageName?t("div",{},[t("div",{staticClass:"surveyDataTop"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:1.5}},[t("div",{staticClass:"grid-content bg-purple surveyDatatitle"},[e._v("昨日")])]),t("el-col",{attrs:{span:5}},[t("div",{staticClass:"grid-content bg-purple surveySort"},[e._v("浏览量(PV)")])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveySort"},[e._v("访客数(UV)")])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveySort"},[e._v("IP数(IP)")])])],1)],1),t("div",{staticClass:"surveyDataBottom"},e._l(e.recentData,(function(a,s){return t("el-row",{key:s,attrs:{gutter:20}},[t("el-col",{attrs:{span:1.5}},[t("div",{staticClass:"grid-content bg-purple surveyDatatitle"},[e._v("昨日")])]),t("el-col",{attrs:{span:5}},[t("div",{staticClass:"grid-content bg-purple surveyDataNum"},[e._v(e._s(a.pv))])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveyDataNum"},[e._v(e._s(a.uv))])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveyDataNum"},[e._v(e._s(a.ip))])])],1)})),1)]):e._e(),1==e.PageName||4==e.PageName?t("div",[t("div",{staticClass:"surveyDataTop"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:1.5}},[t("div",{staticClass:"grid-content bg-purple surveyDatatitle"},[e._v("昨日")])]),t("el-col",{attrs:{span:4}},[t("div",{staticClass:"grid-content bg-purple surveySort"},[e._v("浏览量(PV)")])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveySort"},[e._v("访客数(UV)")])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveySort"},[e._v("IP数(IP)")])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveySort"},[e._v("观看视频数")])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveySort"},[e._v("人均观看视频数")])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveySort"},[e._v("人均观看时长")])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveySort"},[e._v("≥30分人数")])])],1)],1),t("div",{staticClass:"surveyDataBottom"},e._l(e.recentData,(function(a,s){return t("el-row",{key:s,attrs:{gutter:20}},[t("el-col",{attrs:{span:1.5}},[t("div",{staticClass:"grid-content bg-purple surveyDatatitle"},[e._v("昨日")])]),t("el-col",{attrs:{span:4}},[t("div",{staticClass:"grid-content bg-purple surveyDataNum"},[e._v(e._s(a.pv))])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveyDataNum"},[e._v(e._s(a.uv))])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveyDataNum"},[e._v(e._s(a.ip))])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveyDataNum"},[e._v(e._s(a.videoPlays))])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveyDataNum"},[e._v(e._s(a.playCountPerPerson))])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveyDataNum"},[e._v(e._s(a.useTimePerPerson))])]),t("el-col",{attrs:{span:3}},[t("div",{staticClass:"grid-content bg-purple surveyDataNum"},[e._v(e._s(a.goodUsers))])])],1)})),1)]):e._e()]),t("div",{staticClass:"surveyEchart"},[e._m(1),t("div",{staticClass:"surveyDate"},[t("el-date-picker",{staticClass:"surveyTime",attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},on:{change:e.changeEchartTime},model:{value:e.echartDefaultDate,callback:function(a){e.echartDefaultDate=a},expression:"echartDefaultDate"}}),2==e.PageName||3==e.PageName?t("el-radio-group",{staticClass:"choseType",on:{change:function(a){return e.changeEchartBtn()}},model:{value:e.PageName2_3,callback:function(a){e.PageName2_3=a},expression:"PageName2_3"}},[t("el-radio-button",{attrs:{label:"1"}},[e._v("浏览量")]),t("el-radio-button",{attrs:{label:"2"}},[e._v("访客数")]),t("el-radio-button",{attrs:{label:"3"}},[e._v("IP")])],1):e._e()],1),1==e.PageName||4==e.PageName?t("el-tabs",{on:{"tab-click":function(a){return e.changeEchartBtnLanding()}},model:{value:e.PageName1_4,callback:function(a){e.PageName1_4=a},expression:"PageName1_4"}},[t("el-tab-pane",{attrs:{label:"浏览量（PV）",name:"1"}}),t("el-tab-pane",{attrs:{label:"访客数（UV）",name:"2"}}),t("el-tab-pane",{attrs:{label:"IP数(IP)",name:"3"}}),t("el-tab-pane",{attrs:{label:"视频播放量",name:"4"}}),t("el-tab-pane",{attrs:{label:"人均播放量",name:"5"}}),t("el-tab-pane",{attrs:{label:"人均观看时长",name:"6"}}),t("el-tab-pane",{attrs:{label:"≥30分钟人数",name:"7"}})],1):e._e(),t("div",{staticClass:"surveyEchartBox"},[t("div",{staticClass:"surveyEchartlist"}),t("div",{staticClass:"surveyEchartimg"},[t("div",{staticStyle:{height:"400px"},attrs:{id:e.IDNAME}})])])],1),t("div",{staticClass:"surveyDetailBox"},[t("div",{staticClass:"DetailBoxTop"},[t("h3",[e._v("明细数据")]),t("a",{staticClass:"surveyDown",attrs:{id:"surveyDown1",href:e.downloadDetailExcelUrl}},[e._v("下载数据")])]),t("div",{staticClass:"DetailBoxBottom"},[t("el-table",{staticStyle:{"font-size":"10px",width:"100%"},attrs:{data:e.tableData,"header-cell-style":{background:"#E2E2EB",color:"#333"},"row-style":{height:"30px"},"cell-style":{padding:"10px"}}},[t("el-table-column",{attrs:{prop:"dateStr",label:"日期",align:"center"}}),t("el-table-column",{attrs:{prop:"pv",label:"浏览量(PV)",align:"center"}}),t("el-table-column",{attrs:{prop:"uv",label:"访客数(UV)",align:"center"}}),t("el-table-column",{attrs:{prop:"ip",label:"IP数(IP)",align:"center"}}),1==e.PageName||4==e.PageName?t("el-table-column",{attrs:{prop:"videoPlays",label:"观看视频数",align:"center"}}):e._e(),1==e.PageName||4==e.PageName?t("el-table-column",{attrs:{prop:"playCountPerPerson",label:"人均观看视频数",align:"center"}}):e._e(),1==e.PageName||4==e.PageName?t("el-table-column",{attrs:{prop:"useTimePerPerson",label:"人均观看时长",align:"center"}}):e._e(),1==e.PageName||4==e.PageName?t("el-table-column",{attrs:{prop:"goodUsers",label:">30分人数",align:"center"}}):e._e()],1)],1)])])])])},i=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("span",{staticClass:"arget"},[t("div",{staticClass:"argetTxt"},[t("h3",[e._v("指标：")]),t("p",[e._v("启动次数：当天小程序的启动次数")]),t("p",[e._v("启动人数：当天小程序的启动用户数")]),t("p",[e._v("视频播放数：当天小程序的视频播放个数")]),t("p",[e._v("人均观看视频数：当天小程序的视频播放个数与视频总播放人数比")]),t("p",[e._v("人均停留时长：当天小程序的总使用时长与使用时长事件用户数比")]),t("p",[e._v("≥30分钟人数：当天小程序的每个用户总使用时长中大于等于30min的用户数")])])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"DMtop"},[t("h2",[e._v("流量趋势")])])}],l=(t("4160"),t("a15b"),t("a434"),t("b0c0"),t("ac1f"),t("1276"),t("159b"),t("b1d0")),n=t("1271"),r=t("313e"),o=t.n(r),c=(t("1531"),{name:"xcxsurvey",data:function(){return{title:"分媒体数据",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var a=new Date,t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,a])}},{text:"最近一个月",onClick:function(e){var a=new Date,t=new Date;t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,a])}},{text:"最近三个月",onClick:function(e){var a=new Date,t=new Date;t.setTime(t.getTime()-7776e6),e.$emit("pick",[t,a])}}]},echartDefaultDate:[],tableData:[],recentData:[],CompanyName:"",MediaName:"",ChannelName:"",partData:"",options:[],rightName:"",loading:!0,IDNAME:"echart2",Valuename:"浏览量（PV）",btnType:1,downloadExcelUrl:"",downloadDetailExcelUrl:"",PageType:1,rightNameType:1,PartType:"1",PageName:"1",PageName1_4:"1",PageName2_3:"1"}},created:function(){document.title=this.title},activated:function(){document.title=this.title,this.$route.params.CompanyName?(this.CompanyName=this.$route.params.CompanyName,this.rightName=this.$route.params.CompanyName):this.$route.params.MediaName?(this.MediaName=this.$route.params.MediaName,this.rightName=this.$route.params.MediaName):this.$route.params.ChannelName&&(this.ChannelName=this.$route.params.ChannelName,this.rightName=this.$route.params.ChannelName)},mounted:function(){this.bindDrawal(),this.getSelectList()},methods:{bindDrawal:function(){this.echartDefaultDate.push(this.common.formatDate(-7),this.common.formatDate(-1)),this.getAppRecentData(),this.getPartData(),this.getDetails()},PageNameBtn:function(){var e;console.log("数据展示类型",this.PageName),1==this.PageName||4==this.PageName?(this.PageName1_4="1",this.PartType=1,this.Valuename="浏览量（PV）"):(this.PageName2_3="1",this.PartType=1,this.Valuename="浏览量"),this.PageType=this.PageName,this.getAppRecentData(),this.getDetails(),this.getPartData(),1==this.PageName?e="总流量":2==this.PageName?e="落地页":3==this.PageName?e="列表页":4==this.PageName&&(e="播放页");var a=[],t=[];t[0]=e,t[1]=this.Valuename,a.push(t),a=JSON.stringify(a),window.LogList.checkLog("二郎神后台管理系统",this.title,"流量趋势分类切换",a)},getSelectList:function(){var e=this;Object(l["a"])({method:"get",url:n["a"].recordUrl.getmoheGetConfig,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){e.loading=!1,e.options=a.data,e.options.forEach((function(e,a){null==e.label&&(e.label=e.value);for(var t=e.children,s=0;s<t.length;s++){var i=t[s];null==i.label&&(i.label=i.value);for(var l=i.children,n=0;n<l.length;n++){var r=l[n];null==r.label&&(r.label=r.value)}}})),console.log(e.options)})).catch((function(e){console.log(e)}))},changeEchartBtnLanding:function(){var e;1==this.PageName1_4?(this.PartType=this.PageName1_4,this.Valuename="浏览量（PV）",this.IDNAME="echart1",this.btnType=1):2==this.PageName1_4?(this.PartType=this.PageName1_4,this.Valuename="访客数（UV）",this.IDNAME="echart2",this.btnType=1):3==this.PageName1_4?(this.PartType=this.PageName1_4,this.Valuename="IP数(IP)",this.IDNAME="echart3",this.btnType=1):4==this.PageName1_4?(this.PartType=this.PageName1_4,this.Valuename="视频播放量",this.IDNAME="echart4",this.btnType=1):5==this.PageName1_4?(this.PartType=this.PageName1_4,this.Valuename="人均播放量",this.IDNAME="echart5",this.btnType=1):6==this.PageName1_4?(this.PartType=this.PageName1_4,this.Valuename="人均观看时长",this.IDNAME="echart6",this.btnType=2):7==this.PageName1_4&&(this.PartType=this.PageName1_4,this.Valuename="≥30分人数",this.IDNAME="echart7",this.btnType=1),this.getPartData(),1==this.PageName?e="总流量":2==this.PageName?e="落地页":3==this.PageName?e="列表页":4==this.PageName&&(e="播放页");var a=[],t=[];t[0]=e,t[1]=this.Valuename,a.push(t),a=JSON.stringify(a),window.LogList.checkLog("二郎神后台管理系统",this.title,"流量趋势分类切换",a)},changeRight:function(){console.log("value",this.rightName),1==this.rightName.length?(this.CompanyName=this.rightName[0],this.rightNameType=1,this.MediaName="",this.ChannelName=""):2==this.rightName.length?(this.CompanyName=this.rightName[0],this.MediaName=this.rightName[1],this.rightNameType=2,this.ChannelName=""):3==this.rightName.length&&(this.CompanyName=this.rightName[0],this.rightNameType=3,this.MediaName=this.rightName[1],this.ChannelName=this.rightName[2]),console.log(this.CompanyName,this.MediaName,this.ChannelName),this.getAppRecentData(),this.getDetails(),this.getPartData(),this.loading=!0;var e=[],a=[];a=this.rightName,e.push(a),e=JSON.stringify(e),window.LogList.checkLog("二郎神后台管理系统",this.title,"渠道分类切换",e)},getAppRecentData:function(){var e=this;Object(l["a"])({method:"get",url:n["a"].recordUrl.getmoheDMRecentData+"?PageType="+e.PageType+"&CompanyName="+e.CompanyName+"&MediaName="+e.MediaName+"&ChannelName="+e.ChannelName,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){e.loading=!1,e.recentData=a.data,console.log("that.recentData",e.recentData)})).catch((function(e){console.log(e)}))},changeEchartBtn:function(){var e;1==this.PageName2_3?(this.PartType=1,this.Valuename="浏览量",this.IDNAME="echart1_1",this.btnType=1):2==this.PageName2_3?(this.PartType=2,this.Valuename="访客数",this.IDNAME="echart1_2",this.btnType=1):3==this.PageName2_3&&(this.PartType=3,this.Valuename="IP",this.IDNAME="echart1_3",this.btnType=1),this.getPartData(),1==this.PageName?e="总流量":2==this.PageName?e="落地页":3==this.PageName?e="列表页":4==this.PageName&&(e="播放页");var a=[],t=[];t[0]=e,t[1]=this.Valuename,a.push(t),a=JSON.stringify(a),window.LogList.checkLog("二郎神后台管理系统",this.title,"流量趋势图分类切换",a)},getPartData:function(){var e=this;Object(l["a"])({method:"get",url:n["a"].recordUrl.getmoheDMPartData+"?PageType="+e.PageType+"&startTime="+e.echartDefaultDate[0]+"&endtime="+e.echartDefaultDate[1]+"&CompanyName="+e.CompanyName+"&MediaName="+e.MediaName+"&ChannelName="+e.ChannelName+"&PartType="+e.PartType,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){if(e.loading=!1,0==a.code){e.partData=a.data,console.log("趋势图数据",e.partData);var t=[],s=[];e.partData.forEach((function(e,a){var i=e.dateStr,l=i.split("");l.splice(4,0,"-"),l.splice(7,0,"-"),l=l.join(""),s.push(1*e.value),t.push(l)})),console.log("datelist",t),console.log("dataValueList",s),e.downloadE(),e.showechart(s,t,e.Valuename,e.IDNAME,e.btnType)}})).catch((function(e){console.log(e)}))},getDetails:function(){var e=this;Object(l["a"])({method:"get",url:n["a"].recordUrl.getmoheDMDetails+"?PageType="+e.PageType+"&startTime="+e.echartDefaultDate[0]+"&endtime="+e.echartDefaultDate[1]+"&CompanyName="+e.CompanyName+"&MediaName="+e.MediaName+"&ChannelName="+e.ChannelName,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){e.loading=!1,e.tableData=a.data,e.downloadDetailE(),console.log("表格数据",e.tableData)})).catch((function(e){console.log(e)}))},downloadE:function(){this.downloadExcelUrl=n["a"].recordUrl.getmoheDMPartDataExport+"?startTime="+this.echartDefaultDate[0]+"&endtime="+this.echartDefaultDate[1]+"&PageType="+this.PageType+"&CompanyName="+this.CompanyName+"&MediaName="+this.MediaName+"&ChannelName="+this.ChannelName},downloadDetailE:function(){this.downloadDetailExcelUrl=n["a"].recordUrl.getmoheDMPartDataExport+"?startTime="+this.echartDefaultDate[0]+"&endtime="+this.echartDefaultDate[1]+"&PageType="+this.PageType+"&CompanyName="+this.CompanyName+"&MediaName="+this.MediaName+"&ChannelName="+this.ChannelName},changeEchartTime:function(){var e;console.log(this.echartDefaultDate),this.getPartData(),1==this.PageName?e="总流量":2==this.PageName?e="落地页":3==this.PageName?e="列表页":4==this.PageName&&(e="播放页");var a=[],t=[];t[0]=e,t[1]=this.echartDefaultDate[0],t[2]=this.echartDefaultDate[1],a.push(t),a=JSON.stringify(a),window.LogList.checkLog("二郎神后台管理系统",this.title,"流量趋势日期选择",a)},showechart:function(e,a,t,s,i){var l,n,r,c,h=o.a.init(document.getElementById(s)),p=[];2==i?(e.forEach((function(e){p.push(e)})),l=Math.round(1.2*Math.max.apply(null,p)),r={trigger:"axis",formatter:function(e){var a="00:00";if(e[0].value>0){var t=Math.floor(e[0].value/3600),s=Math.floor(e[0].value%3600/60),i=Math.floor((e[0].value-60*s)%60);t<10&&(t="0"+t),s<10&&(s="0"+s),i<10&&(i="0"+i),a=t+":"+s+":"+i}else a="00:00:00";var l="";l+='<div><span style="color:#fff;">'+e[0].name+"</span><br/> ";for(var n=0;n<e.length;n++)l+='<span style="width: 8px;height: 8px;margin-right:5px;display:inline-block;border-radius: 50%;background-color:'+e[n].color+'"></span><span style="color:#fff;">'+e[n].seriesName+':</span><span style="color:#fff;">'+a+"</span><br/>";return l+="</div>",l}},c={textStyle:{color:"#666"},formatter:function(e){if(e>0){var a=Math.floor(e/3600),t=Math.floor(e%3600/60),s=Math.floor((e-60*t)%60);return a<10&&(a="0"+a),t<10&&(t="0"+t),s<10&&(s="0"+s),a+":"+t+":"+s}return"00:00:00"}}):3==i?(e.forEach((function(e){p.push(e)})),l=Math.round(1.2*Math.max.apply(null,p))):1==i&&(e.forEach((function(e){p.push(e)})),l=Math.round(1.2*Math.max.apply(null,p)),r={trigger:"axis"},c={textStyle:{color:"#666"}}),h.setOption({tooltip:r,legend:{data:[]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:a,splitLine:{show:!1},axisLine:{lineStyle:{type:"solid",color:"#E6E6E6",width:"2"}},axisLabel:{textStyle:{color:"#666"}}},yAxis:{type:"value",min:n,max:l,splitLine:{lineStyle:{type:"dashed"}},axisLine:{lineStyle:{type:"solid",color:"#E6E6E6",width:"2"}},axisLabel:c},series:[{name:t,type:"line",stack:"总量",smooth:!0,itemStyle:{normal:{color:"#396FFF",lineStyle:{color:"#396FFF"}}},data:p}]},!0)}}}),h=c,p=(t("55b1"),t("2877")),m=Object(p["a"])(h,s,i,!1,null,"500bd728",null);a["default"]=m.exports},"55b1":function(e,a,t){"use strict";var s=t("3a13"),i=t.n(s);i.a},a434:function(e,a,t){"use strict";var s=t("23e7"),i=t("23cb"),l=t("a691"),n=t("50c4"),r=t("7b0b"),o=t("65f0"),c=t("8418"),h=t("1dde"),p=t("ae40"),m=h("splice"),g=p("splice",{ACCESSORS:!0,0:0,1:2}),u=Math.max,d=Math.min,v=9007199254740991,N="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!m||!g},{splice:function(e,a){var t,s,h,p,m,g,y=r(this),P=n(y.length),b=i(e,P),f=arguments.length;if(0===f?t=s=0:1===f?(t=0,s=P-b):(t=f-2,s=d(u(l(a),0),P-b)),P+t-s>v)throw TypeError(N);for(h=o(y,s),p=0;p<s;p++)m=b+p,m in y&&c(h,p,y[m]);if(h.length=s,t<s){for(p=b;p<P-s;p++)m=p+s,g=p+t,m in y?y[g]=y[m]:delete y[g];for(p=P;p>P-s+t;p--)delete y[p-1]}else if(t>s)for(p=P-s;p>b;p--)m=p+s-1,g=p+t-1,m in y?y[g]=y[m]:delete y[g];for(p=0;p<t;p++)y[p+b]=arguments[p+2];return y.length=P-s+t,h}})}}]);
//# sourceMappingURL=chunk-1fa69342.880bfb6831ef964c471f.1618470402363.js.map