(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36a7c024"],{"09f5":function(t,a,e){},"25c6":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"appSurvey"},[e("div",{staticClass:"appSurveyContainer"},[e("div",{staticClass:"headContainer"},[t._m(0),e("div",{staticClass:"rightSelect"},[e("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){return t.changeRight()}},model:{value:t.rightName,callback:function(a){t.rightName=a},expression:"rightName"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),e("div",{staticClass:"surveyContainer"},[e("div",{staticClass:"surveyTop"},[e("div",{staticClass:"surveyDataTop"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:1.5}},[e("div",{staticClass:"grid-content bg-purple surveyDatatitle"},[t._v("昨日")])]),e("el-col",{attrs:{span:5}},[e("div",{staticClass:"grid-content bg-purple surveySort"},[t._v("播放时长")])]),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content bg-purple surveySort"},[t._v("播放量")])]),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content bg-purple surveySort"},[t._v("播放视频数")])]),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content bg-purple surveySort"},[t._v("观看视频人数")])]),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content bg-purple surveySort"},[t._v("播放完成度")])])],1)],1),e("div",{staticClass:"surveyDataBottom"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:1.5}},[e("div",{staticClass:"grid-content bg-purple surveyDatatitle"},[t._v("昨日")])]),e("el-col",{attrs:{span:5}},[e("div",{staticClass:"grid-content bg-purple surveyDataNum"},[t._v(t._s(t.playTime))])]),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content bg-purple surveyDataNum"},[t._v(t._s(t.playNum))])]),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content bg-purple surveyDataNum"},[t._v(t._s(t.playVideoCount))])]),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content bg-purple surveyDataNum"},[t._v(t._s(t.watchNum))])]),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content bg-purple surveyDataNum"},[t._v(t._s(t.complete))])])],1)],1)]),e("div",{staticClass:"surveyEchart"},[e("div",{staticClass:"surveyEchartBox"},[e("h2",[t._v("总趋势")]),e("div",{staticClass:"surveyEchartlist"},[e("el-date-picker",{staticClass:"surveyTime",attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:function(a){return t.changeEchartTimeAll()}},model:{value:t.echartDefaultDateAll,callback:function(a){t.echartDefaultDateAll=a},expression:"echartDefaultDateAll"}}),e("el-radio-group",{staticStyle:{"margin-left":"20px"},on:{change:function(a){return t.changeEchartBtnAll()}},model:{value:t.tabPositionAll,callback:function(a){t.tabPositionAll=a},expression:"tabPositionAll"}},[e("el-radio-button",{attrs:{label:"1"}},[t._v("播放量")]),e("el-radio-button",{attrs:{label:"2"}},[t._v("播放视频数")])],1)],1),e("div",{staticClass:"surveyEchartimg"},[e("div",{staticStyle:{height:"400px"},attrs:{id:t.IDNAME}})])])]),e("div",{staticClass:"surveyEchart"},[e("div",{staticClass:"surveyEchartBox"},[e("h2",[t._v("视频播放趋势")]),e("div",{staticClass:"surveyEchartlist"},[e("el-date-picker",{staticClass:"surveyTime",attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:function(a){return t.changeEchartTime()}},model:{value:t.echartDefaultDate,callback:function(a){t.echartDefaultDate=a},expression:"echartDefaultDate"}}),e("el-radio-group",{staticStyle:{"margin-left":"20px"},on:{change:function(a){return t.changeEchartBtn1()}},model:{value:t.tabPosition1,callback:function(a){t.tabPosition1=a},expression:"tabPosition1"}},[e("el-radio-button",{attrs:{label:"1"}},[t._v("15s")]),e("el-radio-button",{attrs:{label:"2"}},[t._v("一半")]),e("el-radio-button",{attrs:{label:"3"}},[t._v("全部")])],1),e("el-radio-group",{staticStyle:{"margin-left":"20px"},on:{change:function(a){return t.changeEchartBtn2()}},model:{value:t.tabPosition2,callback:function(a){t.tabPosition2=a},expression:"tabPosition2"}},[e("el-radio-button",{attrs:{label:"1"}},[t._v("数量")]),e("el-radio-button",{attrs:{label:"2"}},[t._v("占比")])],1)],1),e("div",{staticClass:"surveyEchartimg"},[e("div",{staticStyle:{height:"400px"},attrs:{id:t.idName}})])])]),e("div",{staticClass:"surveyEchart"},[e("div",{staticClass:"surveyEchartBox"},[e("h2",[t._v("视频播放类别分布")]),e("div",{staticClass:"surveyEchartimg"},[e("div",{staticStyle:{height:"400px"},attrs:{id:t.histogram}})])])]),e("div",{staticClass:"appPlayData"},[e("div",{staticClass:"appPlayDataLeft"},[e("h3",[t._v("视频播放top10")]),e("span",{staticClass:"skipBtn",on:{click:function(a){return t.videoSkipBtn()}}},[t._v(">")]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.videoTop10,stripe:"","header-cell-style":{background:"#E2E2EB",color:"#333"}}},[e("el-table-column",{attrs:{fixed:"",prop:"title",label:"标题",width:"520"}}),e("el-table-column",{attrs:{prop:"videoId",label:"视频ID"}}),e("el-table-column",{attrs:{prop:"type",label:"类别"}}),e("el-table-column",{attrs:{prop:"playCount",label:"播放量"}})],1)],1)]),e("div",{staticClass:"surveyDetailBox"},[e("h3",[t._v("每日数据")]),e("div",{staticClass:"DetailBoxTop"},[e("el-date-picker",{staticClass:"withdrawTime",attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.changedetailTime},model:{value:t.detailDefaultDate,callback:function(a){t.detailDefaultDate=a},expression:"detailDefaultDate"}})],1),e("div",{staticClass:"DetailBoxBottom"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{background:"#E2E2EB",color:"#333"},"row-style":{height:"30px"},"cell-style":{padding:"10px"}}},[e("el-table-column",{attrs:{prop:"dateStr",label:"日期"}}),e("el-table-column",{attrs:{prop:"playTime",label:"播放时长"}}),e("el-table-column",{attrs:{prop:"playNum",label:"播放量"}}),e("el-table-column",{attrs:{prop:"playVideoCount",label:"播放视频数"}}),e("el-table-column",{attrs:{prop:"watchNum",label:"观看视频人数"}}),e("el-table-column",{attrs:{prop:"complete",label:"视频播放完成度"}})],1)],1)])])])])},l=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pagetarge"},[e("span",{},[t._v("网站播放数据")]),e("span",{staticClass:"arget"},[e("div",{staticClass:"argetTxt"},[e("h3",[t._v("指标：")]),e("p",[t._v("播放时长：当天网站的播放视频总时长")]),e("p",[t._v("播放量：当天网站的视频总播放量")]),e("p",[t._v("播放视频数：当天网站的视频播放个数")]),e("p",[t._v("观看视频人数：当天网站的播放视频的总用户数")]),e("p",[t._v("播放完成度：当天网站的视频播放时长与视频总时长比的平均值")])])])])}],o=(e("4160"),e("a15b"),e("a434"),e("b0c0"),e("ac1f"),e("1276"),e("159b"),e("b1d0")),s=e("1271"),n=e("313e"),r=e.n(n),c=(e("1531"),{name:"webPlayData",data:function(){return{title:"网站播放数据",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",[e,a])}},{text:"最近一个月",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-2592e6),t.$emit("pick",[e,a])}},{text:"最近三个月",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-7776e6),t.$emit("pick",[e,a])}}]},tableData:[],playTime:"",playNum:"",playVideoCount:"",watchNum:"",complete:"",playVideoCountPre:"",playNumPre:"",playTimePre:"",partData:"",options:[{value:1,label:"M站"},{value:4,label:"爆米花PC"}],rightName:1,loading:!0,IDNAME:"echart1",Valuename:"播放量",btnType:1,echartDefaultDateAll:[],echartDefaultDate:[],detailDefaultDate:[],tabPositionAll:1,tabPosition1:1,tabPosition2:1,idName:"echart1_1",histogram:"histogramId",videoTop10:[]}},created:function(){document.title=this.title},activated:function(){document.title=this.title},mounted:function(){this.bindDrawal(),this.getAppRecentData()},methods:{bindDrawal:function(){this.echartDefaultDateAll.push(this.common.formatDate(-7),this.common.formatDate(-1)),this.echartDefaultDate.push(this.common.formatDate(-7),this.common.formatDate(-1)),this.detailDefaultDate.push(this.common.formatDate(-7),this.common.formatDate(-1)),this.getPartData(),this.getDetails(),this.getPartDataBF(),this.getPlayTypeBF(),this.getAppVideoPlayTop()},changeRight:function(){var t;console.log("value",this.rightName),this.getPartData(),this.getDetails(),this.getPartDataBF(),this.getPlayTypeBF(),this.getAppVideoPlayTop(),this.getAppRecentData(),this.loading=!0,1==this.rightName?t="M站":4==this.rightName&&(t="爆米花PC");var a=[],e=[];e[0]=t,a.push(e),a=JSON.stringify(a),window.LogList.checkLog("二郎神后台管理系统",this.title,"渠道分类切换",a)},changeEchartTimeAll:function(){this.getPartData();var t=[],a=[];a[0]=this.echartDefaultDateAll[0],a[1]=this.echartDefaultDateAll[1],t.push(a),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"总趋势图日期选择",t)},changeEchartTime:function(){this.getPartDataBF(),this.getPartData();var t=[],a=[];a[0]=this.echartDefaultDate[0],a[1]=this.echartDefaultDate[1],t.push(a),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"视频播放趋势图日期选择",t)},changedetailTime:function(){console.log("渠道分类",this.rightName),console.log("时间",this.detailDefaultDate[0],this.detailDefaultDate[1]),this.getDetails();var t=[],a=[];a[0]=this.detailDefaultDate[0],a[1]=this.detailDefaultDate[1],t.push(a),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"表格数据日期选择",t)},videoSkipBtn:function(){var t;this.$router.push({name:"webplayTop10",params:{rightName:this.rightName}}),1==this.rightName?t="M站":4==this.rightName&&(t="爆米花PC");var a=[],e=[];e[0]=t,a.push(e),a=JSON.stringify(a),window.LogList.checkLog("二郎神后台管理系统",this.title,"视频播放top10跳转",a)},getAppRecentData:function(){var t=this;Object(o["a"])({method:"get",url:s["a"].recordUrl.getwebplayGeneralData+"?type="+t.rightName,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){t.loading=!1,a.data.forEach((function(a,e){t.playTime=a.playTime,t.playNum=a.playNum,t.playVideoCount=a.playVideoCount,t.watchNum=a.watchNum,t.complete=a.complete,t.playVideoCountPre=a.playVideoCountPre,t.playNumPre=a.playNumPre,t.playTimePre=a.playTimePre}))})).catch((function(t){console.log(t)}))},changeEchartBtnAll:function(){console.log("tabPositionAll",this.tabPositionAll),1==this.tabPositionAll?(this.Valuename="播放量",this.IDNAME="echart1",this.btnType=1):2==this.tabPositionAll&&(this.Valuename="播放视频数",this.IDNAME="echart2",this.btnType=1),this.getPartData();var t=[],a=[];a[0]=this.Valuename,t.push(a),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"总趋势图状态选择",t)},changeEchartBtn1:function(){console.log("tabPosition1",this.tabPosition1),1==this.tabPosition1?(this.Valuename="15s",this.idName="echart1_1",2==this.tabPosition2?this.btnType=3:this.btnType=1):2==this.tabPosition1?(this.Valuename="一半",this.idName="echart1_2",2==this.tabPosition2?this.btnType=3:this.btnType=1):2==this.tabPosition1&&(this.Valuename="全部",this.idName="echart1_3",2==this.tabPosition2?this.btnType=3:this.btnType=1),this.getPartDataBF();var t=[],a=[];a[0]=this.Valuename,t.push(a),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"视频播放趋势图进度选择",t)},changeEchartBtn2:function(){console.log("tabPosition2",this.tabPosition2),1==this.tabPosition2?(this.Valuename="数量",this.idName="echart2_1",this.btnType=1):2==this.tabPosition2&&(this.Valuename="占比",this.idName="echart2_2",this.btnType=3),this.getPartDataBF();var t=[],a=[];a[0]=this.Valuename,t.push(a),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"视频播放趋势图数量和占比选择",t)},getPartData:function(){var t=this;Object(o["a"])({method:"get",url:s["a"].recordUrl.getwebplayVideoCount+"?type="+t.rightName+"&VideoPlayType="+t.tabPositionAll+"&starttime="+t.echartDefaultDateAll[0]+"&endtime="+t.echartDefaultDateAll[1],data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){if(t.loading=!1,0==a.code){t.partData=a.data,console.log("趋势图数据",t.partData);var e=[],i=[];t.partData.forEach((function(t,a){var l=t.dateStr,o=l.split("");o.splice(4,0,"-"),o.splice(7,0,"-"),o=o.join(""),i.push(1*t.value),e.push(o)})),console.log("datelist",e),console.log("dataValueList",i),t.showechart(i,e,t.Valuename,t.IDNAME,t.btnType)}})).catch((function(t){console.log(t)}))},getPartDataBF:function(){var t=this;Object(o["a"])({method:"get",url:s["a"].recordUrl.getwebplayVideoPlayTrend+"?type="+t.rightName+"&VideoPlayBehavior="+t.tabPosition1+"&starttime="+t.echartDefaultDate[0]+"&endtime="+t.echartDefaultDate[1]+"&VideoPlayBehaviorType="+t.tabPosition2,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){if(t.loading=!1,0==a.code){t.partData=a.data,console.log("趋势图数据",t.partData);var e=[],i=[];t.partData.forEach((function(t,a){var l=t.dateStr,o=l.split("");o.splice(4,0,"-"),o.splice(7,0,"-"),o=o.join(""),i.push(1*t.value),e.push(o)})),console.log("datelist",e),console.log("dataValueList",i),t.showechart(i,e,t.Valuename,t.idName,t.btnType)}})).catch((function(t){console.log(t)}))},getPlayTypeBF:function(){var t=this;Object(o["a"])({method:"get",url:s["a"].recordUrl.getwebplayVideoTypeData+"?type="+t.rightName,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){if(t.loading=!1,0==a.code){console.log("分类",a);var e=a.data,i=e.pv,l=e.videoNum,o=e.xDate;t.videoechartpar(t.histogram,i,l,o)}})).catch((function(t){console.log(t)}))},getAppVideoPlayTop:function(){var t=this;Object(o["a"])({method:"get",url:s["a"].recordUrl.getwebplayVideoPlayTop+"?type="+this.rightName,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){t.videoTop10=a.data})).catch((function(t){console.log(t)}))},videoechartpar:function(t,a,e,i){console.log(a),console.log(e),console.log(i);var l=r.a.init(document.getElementById(t)),o={color:["#2378f7","#83bff6"],tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0}}},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,legend:{data:["播放量","播放视频数"],itemGap:5},grid:{top:"12%",left:"1%",right:"10%",containLabel:!0},xAxis:[{type:"category",data:i}],yAxis:[{type:"value",splitLine:{lineStyle:{type:"dashed"}},axisLabel:{formatter:function(t){return t=+t,isFinite(t)?r.a.format.addCommas(+t):""}}}],dataZoom:[{show:!0,start:94,end:100},{type:"inside",start:94,end:100},{show:!0,yAxisIndex:0,filterMode:"empty",width:30,height:"80%",showDataShadow:!1,left:"93%"}],series:[{name:"播放量",type:"bar",data:a},{name:"播放视频数",type:"bar",data:e}]};l.setOption(o)},getDetails:function(){var t=this;Object(o["a"])({method:"get",url:s["a"].recordUrl.getwebplayGetDetails+"?type="+t.rightName+"&starttime="+t.detailDefaultDate[0]+"&endtime="+t.detailDefaultDate[1],data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){t.loading=!1,t.tableData=a.data,console.log("表格数据",t.tableData)})).catch((function(t){console.log(t)}))},showechart:function(t,a,e,i,l){var o,s,n,c,h=r.a.init(document.getElementById(i)),p=[];2==l?(t.forEach((function(t){p.push(t)})),o=Math.round(1.2*Math.max.apply(null,p)),n={trigger:"axis"},c={textStyle:{color:"#666"},formatter:function(t){if(t>0){var a=Math.floor(t/3600),e=Math.floor(t%3600/60),i=Math.floor((t-60*e)%60);return a<10&&(a="0"+a),e<10&&(e="0"+e),i<10&&(i="0"+i),a+":"+e+":"+i}return"00:00:00"}}):3==l?(t.forEach((function(t){p.push(t)})),o=Math.round(1.2*Math.max.apply(null,p)),n={trigger:"axis",formatter:function(t){var a="";a+='<div><span style="color:#fff;">'+t[0].name+"</span><br/> ";for(var e=0;e<t.length;e++)a+='<span style="width: 8px;height: 8px;margin-right:5px;display:inline-block;border-radius: 50%;background-color:'+t[e].color+'"></span><span style="color:#fff;">'+t[e].seriesName+':</span><span style="color:#fff;">'+t[e].value+"&nbsp;%</span><br/>";return a+="</div>",a}},c={textStyle:{color:"#666"},formatter:function(t){return t+"%"}}):(t.forEach((function(t){p.push(t)})),o=Math.round(1.2*Math.max.apply(null,p)),n={trigger:"axis"},c={textStyle:{color:"#666"},formatter:function(t){return t}}),h.setOption({tooltip:n,legend:{data:[]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:a,splitLine:{show:!1},axisLine:{lineStyle:{type:"solid",color:"#E6E6E6",width:"2"}},axisLabel:{textStyle:{color:"#666"}}},yAxis:{type:"value",min:s,max:o,splitLine:{lineStyle:{type:"dashed"}},axisLine:{lineStyle:{type:"solid",color:"#E6E6E6",width:"2"}},axisLabel:c},series:[{name:e,type:"line",stack:"总量",smooth:!0,itemStyle:{normal:{color:"#396FFF",lineStyle:{color:"#396FFF"}}},data:p}]},!0)}}}),h=c,p=(e("f761"),e("2877")),u=Object(p["a"])(h,i,l,!1,null,"4994e9e4",null);a["default"]=u.exports},a434:function(t,a,e){"use strict";var i=e("23e7"),l=e("23cb"),o=e("a691"),s=e("50c4"),n=e("7b0b"),r=e("65f0"),c=e("8418"),h=e("1dde"),p=e("ae40"),u=h("splice"),d=p("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,m=Math.min,y=9007199254740991,f="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u||!d},{splice:function(t,a){var e,i,h,p,u,d,v=n(this),b=s(v.length),D=l(t,b),w=arguments.length;if(0===w?e=i=0:1===w?(e=0,i=b-D):(e=w-2,i=m(g(o(a),0),b-D)),b+e-i>y)throw TypeError(f);for(h=r(v,i),p=0;p<i;p++)u=D+p,u in v&&c(h,p,v[u]);if(h.length=i,e<i){for(p=D;p<b-i;p++)u=p+i,d=p+e,u in v?v[d]=v[u]:delete v[d];for(p=b;p>b-i+e;p--)delete v[p-1]}else if(e>i)for(p=b-i;p>D;p--)u=p+i-1,d=p+e-1,u in v?v[d]=v[u]:delete v[d];for(p=0;p<e;p++)v[p+D]=arguments[p+2];return v.length=b-i+e,h}})},f761:function(t,a,e){"use strict";var i=e("09f5"),l=e.n(i);l.a}}]);
//# sourceMappingURL=chunk-36a7c024.880bfb6831ef964c471f.1618470402363.js.map