(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-333dbd10"],{"7e32c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"viewFrame",staticClass:"appSurvey"},[a("div",{staticClass:"appSurveyContainer"},[a("div",{staticClass:"headContainer"},[t._m(0),a("div",{staticClass:"rightSelect"},[a("el-cascader",{attrs:{options:t.options,"change-on-select":"","show-all-levels":!1},on:{change:function(e){return t.changeRight()}},model:{value:t.rightName,callback:function(e){t.rightName=e},expression:"rightName"}})],1)]),a("div",{staticClass:"surveyContainer"},[a("div",{staticClass:"surveyTop"},[a("div",{staticClass:"surveyDataTop"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:1.5}},[a("div",{staticClass:"grid-content bg-purple surveyDatatitle"},[t._v("昨日")])]),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple surveySort"},[t._v("日均使用时长")])]),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple surveySort"},[t._v("单次使用时长")])]),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple surveySort"},[t._v("≥30分钟人数")])])],1)],1),a("div",{staticClass:"surveyDataBottom"},t._l(t.recentData,(function(e,i){return a("el-row",{key:i,attrs:{gutter:20}},[a("el-col",{attrs:{span:1.5}},[a("div",{staticClass:"grid-content bg-purple surveyDatatitle"},[t._v("昨日")])]),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple surveyDataNum"},[t._v(t._s(e.dayAvgTime))])]),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple surveyDataNum"},[t._v(t._s(e.onceTime))])]),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple surveyDataNum"},[t._v(t._s(e.moreThirtyCount))])])],1)})),1)]),a("div",{staticClass:"surveyEchart"},[a("div",{staticClass:"surveyDate"},[a("el-date-picker",{staticClass:"surveyTime",attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:function(e){return t.changeEchartTime()}},model:{value:t.echartDefaultDate,callback:function(e){t.echartDefaultDate=e},expression:"echartDefaultDate"}})],1),a("div",{staticClass:"surveyEchartBox"},[a("div",{staticClass:"surveyEchartlist"},[a("el-tabs",{on:{"tab-click":t.changeEchartBtn},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"日均使用时长",name:"1"}},[a("div",{staticStyle:{height:"400px"},attrs:{id:"echart1"}})]),a("el-tab-pane",{attrs:{label:"单次使用时长",name:"2"}},[a("div",{staticStyle:{height:"400px"},attrs:{id:"echart2"}})]),a("el-tab-pane",{attrs:{label:"≥30分钟人数",name:"3"}},[a("div",{staticStyle:{height:"400px"},attrs:{id:"echart3"}})])],1)],1),a("div",{staticClass:"surveyEchartimg"})])]),a("div",{staticClass:"surveyDetailBox"},[a("div",{staticClass:"DetailBoxTop"},[a("el-date-picker",{staticClass:"detailBoxTime",attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:function(e){return t.changeBoxTime()}},model:{value:t.detailBoxDate,callback:function(e){t.detailBoxDate=e},expression:"detailBoxDate"}})],1),a("div",{staticClass:"DetailBoxBottom"},[a("el-table",{staticStyle:{"font-size":"10px",width:"100%"},attrs:{data:t.tableData,"header-cell-style":{background:"#E2E2EB",color:"#333"},"row-style":{height:"30px"},"cell-style":{padding:"10px"}}},[a("el-table-column",{attrs:{prop:"dateId",label:"日期",align:"center"}}),a("el-table-column",{attrs:{prop:"dayAvgTime",label:"日均时长",align:"center"}}),a("el-table-column",{attrs:{prop:"countAvg",label:"人均启动次数",align:"center"}}),a("el-table-column",{attrs:{prop:"onceTime",label:"单次时长",align:"center"}}),a("el-table-column",{attrs:{prop:"moreThirtyCount",label:"≥30分钟人数",align:"center"}}),a("el-table-column",{attrs:{prop:"thirtySecondCount",label:"30秒内人数",align:"center"}}),a("el-table-column",{attrs:{prop:"oneMinuteCount",label:"30秒~1分钟",align:"center"}}),a("el-table-column",{attrs:{prop:"threeMinuteCount",label:"1分钟~3分钟",align:"center"}}),a("el-table-column",{attrs:{prop:"tenMinuteCount",label:"3分钟~10分钟",align:"center"}}),a("el-table-column",{attrs:{prop:"thirtyMinuteCount",label:"10分钟~30分钟",align:"center"}})],1)],1)])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagetarge"},[a("span",{},[t._v("时长分析")]),a("span",{staticClass:"arget"},[a("div",{staticClass:"argetTxt"},[a("h3",[t._v("指标：")]),a("p",[t._v("日均使用时长：当天app的总使用时长与使用时长事件用户数比（仅包含注册用户）")]),a("p",[t._v("单次使用时长：当天app的总使用时长与使用时长事件启动次比（仅包含注册用户）")]),a("p",[t._v("≥30分钟人数：当天app的每个用户总使用时长中大于等于30min的用户数（仅包含注册用户）")])])])])}],l=(a("4160"),a("a15b"),a("a434"),a("b0c0"),a("ac1f"),a("1276"),a("159b"),a("b1d0")),o=a("1271"),r=a("313e"),s=a.n(r),c=(a("1531"),{name:"appRetain",data:function(){return{title:"魔盒SDK时长分析",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},tableData:[],recentData:"",echartDefaultDate:[],detailBoxDate:[],partData:"",options:[],rightName:"",CompanyName:"",MediaName:"",loading:!0,activeName:"1",IDNAME:"echart1",Valuename:"日均使用时长",btnType:2}},created:function(){document.title=this.title},activated:function(){document.title=this.title},mounted:function(){this.bindDrawal(),this.getConfig()},methods:{getConfig:function(){var t=this;Object(l["a"])({method:"get",url:o["a"].recordUrl.getsdkConfig,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){console.log("配置信息",e),t.loading=!1,t.options=e.data,t.options.forEach((function(e,a){0==a&&(t.CompanyName=e.value,t.rightName=e.value,t.getAppRecentData(),t.getPartData(),t.getDetails()),null==e.label&&(e.label=e.value);for(var i=e.children,n=0;n<i.length;n++){var l=i[n];if(null==l.label&&(l.label=l.value),l.children)for(var o=l.children,r=0;r<o.length;r++){var s=o[r];null==s.label&&(s.label=s.value)}}})),console.log(t.options)})).catch((function(t){console.log(t)}))},changeEchartTime:function(){console.log(this.echartDefaultDate),this.getPartData();var t=[],e=[];e[0]=this.echartDefaultDate[0],e[1]=this.echartDefaultDate[1],t.push(e),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"趋势图日期选择",t)},changeBoxTime:function(){console.log(this.detailBoxDate),this.getDetails();var t=[],e=[];e[0]=this.detailBoxDate[0],e[1]=this.detailBoxDate[1],t.push(e),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"表格数据日期选择",t)},bindDrawal:function(){this.detailBoxDate.push(this.common.formatDate(-7),this.common.formatDate(-1)),this.echartDefaultDate.push(this.common.formatDate(-7),this.common.formatDate(-1))},getAppRecentData:function(){var t=this;Object(l["a"])({method:"get",url:o["a"].recordUrl.getsdkTimeGeneralData+"?CompanyName="+t.CompanyName+"&MediaName="+t.MediaName,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.loading=!1,t.recentData=e.data,console.log("that.recentData",t.recentData)})).catch((function(t){console.log(t)}))},changeEchartBtn:function(){console.log("activeName",this.activeName),1==this.activeName?(this.Valuename="日均使用时长",this.IDNAME="echart1",this.btnType=2):2==this.activeName?(this.Valuename="单次使用时长",this.IDNAME="echart2",this.btnType=2):3==this.activeName&&(this.Valuename="≥30分钟人数",this.IDNAME="echart3",this.btnType=1),this.getPartData();var t=[],e=[];e[0]=this.Valuename,t.push(e),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"趋势图分类切换",t)},getPartData:function(){var t=this;Object(l["a"])({method:"get",url:o["a"].recordUrl.getsdkTimePartData+"?CompanyName="+t.CompanyName+"&partnum="+t.activeName+"&MediaName="+t.MediaName+"&startTime="+t.echartDefaultDate[0]+"&endtime="+t.echartDefaultDate[1],data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(t.loading=!1,0==e.code){t.partData=e.data,console.log("趋势图数据",t.partData);var a=[],i=[];t.partData.forEach((function(t,e){var n=t.dateStr,l=n.split("");l.splice(4,0,"-"),l.splice(7,0,"-"),l=l.join(""),i.push(1*t.value),a.push(l)})),console.log("datelist",a),console.log("dataValueList",i),t.showechart(i,a,t.Valuename,t.IDNAME,t.btnType)}})).catch((function(t){console.log(t)}))},getDetails:function(){var t=this;Object(l["a"])({method:"get",url:o["a"].recordUrl.getsdkTimeDetailsData+"?CompanyName="+t.CompanyName+"&MediaName="+t.MediaName+"&startTime="+t.detailBoxDate[0]+"&endtime="+t.detailBoxDate[1],data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.loading=!1,t.tableData=e.data,t.tableData.forEach((function(e,a){var i=e.dateId;i=i.split(" ")[0],t.tableData[a].dateId=i})),console.log("表格数据",t.tableData)})).catch((function(t){console.log(t)}))},changeRight:function(){console.log("value",this.rightName),1==this.rightName.length?(this.CompanyName=this.rightName[0],this.MediaName=""):2==this.rightName.length&&(this.CompanyName=this.rightName[0],this.MediaName=this.rightName[1]),this.getDetails(),this.getAppRecentData(),this.getPartData(),this.loading=!0;var t=[],e=[];e[0]=this.rightName,t.push(e),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"渠道分类选择",t)},showechart:function(t,e,a,i,n){var l,o,r,c,h=s.a.init(document.getElementById(i)),p=[];2==n?(t.forEach((function(t){p.push(t)})),l=Math.round(1.2*Math.max.apply(null,p)),r={trigger:"axis",formatter:function(t){var e="00:00";if(t[0].value>0){var a=Math.floor(t[0].value/3600),i=Math.floor(t[0].value%3600/60),n=Math.floor((t[0].value-60*i)%60);a<10&&(a="0"+a),i<10&&(i="0"+i),n<10&&(n="0"+n),e=a+":"+i+":"+n}else e="00:00:00";var l="";l+='<div><span style="color:#fff;">'+t[0].name+"</span><br/> ";for(var o=0;o<t.length;o++)l+='<span style="width: 8px;height: 8px;margin-right:5px;display:inline-block;border-radius: 50%;background-color:'+t[o].color+'"></span><span style="color:#fff;">'+t[o].seriesName+':</span><span style="color:#fff;">'+e+"</span><br/>";return l+="</div>",l}},c={textStyle:{color:"#666"},formatter:function(t){if(t>0){var e=Math.floor(t/3600),a=Math.floor(t%3600/60),i=Math.floor((t-60*a)%60);return e<10&&(e="0"+e),a<10&&(a="0"+a),i<10&&(i="0"+i),e+":"+a+":"+i}return"00:00:00"}}):3==n?(t.forEach((function(t){p.push(t)})),l=Math.round(1.2*Math.max.apply(null,p)),r={trigger:"axis",formatter:function(t){var e="";e+='<div><span style="color:#fff;">'+t[0].name+"</span><br/> ";for(var a=0;a<t.length;a++)e+='<span style="width: 8px;height: 8px;margin-right:5px;display:inline-block;border-radius: 50%;background-color:'+t[a].color+'"></span><span style="color:#fff;">'+t[a].seriesName+':</span><span style="color:#fff;">'+t[a].value+"&nbsp;%</span><br/>";return e+="</div>",e}},c={textStyle:{color:"#666"},formatter:function(t){return t+"%"}}):(t.forEach((function(t){p.push(t)})),l=Math.round(1.2*Math.max.apply(null,p)),r={trigger:"axis"},c={textStyle:{color:"#666"}}),h.setOption({tooltip:r,legend:{data:[]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:e,splitLine:{show:!1},axisLine:{lineStyle:{type:"solid",color:"#E6E6E6",width:"2"}},axisLabel:{textStyle:{color:"#666"}}},yAxis:{type:"value",min:o,max:l,splitLine:{lineStyle:{type:"dashed"}},axisLine:{lineStyle:{type:"solid",color:"#E6E6E6",width:"2"}},axisLabel:c},series:[{name:a,type:"line",stack:"总量",smooth:!0,itemStyle:{normal:{color:"#396FFF",lineStyle:{color:"#396FFF"}}},data:p}]},!0)}}}),h=c,p=(a("bd79"),a("2877")),d=Object(p["a"])(h,i,n,!1,null,"edbcfc10",null);e["default"]=d.exports},"9f50":function(t,e,a){},a434:function(t,e,a){"use strict";var i=a("23e7"),n=a("23cb"),l=a("a691"),o=a("50c4"),r=a("7b0b"),s=a("65f0"),c=a("8418"),h=a("1dde"),p=a("ae40"),d=h("splice"),u=p("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,m=Math.min,f=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!u},{splice:function(t,e){var a,i,h,p,d,u,y=r(this),b=o(y.length),D=n(t,b),x=arguments.length;if(0===x?a=i=0:1===x?(a=0,i=b-D):(a=x-2,i=m(g(l(e),0),b-D)),b+a-i>f)throw TypeError(v);for(h=s(y,i),p=0;p<i;p++)d=D+p,d in y&&c(h,p,y[d]);if(h.length=i,a<i){for(p=D;p<b-i;p++)d=p+i,u=p+a,d in y?y[u]=y[d]:delete y[u];for(p=b;p>b-i+a;p--)delete y[p-1]}else if(a>i)for(p=b-i;p>D;p--)d=p+i-1,u=p+a-1,d in y?y[u]=y[d]:delete y[u];for(p=0;p<a;p++)y[p+D]=arguments[p+2];return y.length=b-i+a,h}})},bd79:function(t,e,a){"use strict";var i=a("9f50"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-333dbd10.880bfb6831ef964c471f.1618470402363.js.map