(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ba9492c"],{4061:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"appGold"},[e("div",{staticClass:"appGoldContainer"},[e("div",{staticClass:"appgoldheadContainer"},[t._m(0),e("div",{staticClass:"rightSelect"},[e("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changeRight},model:{value:t.rightName,callback:function(a){t.rightName=a},expression:"rightName"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),e("div",{staticClass:"appgoldContainer"},[e("div",{staticClass:"appgoldTop"},[e("div",{staticClass:"appgoldDataTop"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:1.5}},[e("div",{staticClass:"grid-content bg-purple appgoldDatatitle"},[t._v("昨日")])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"grid-content bg-purple appgoldSort"},[t._v("金币总支出")])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"grid-content bg-purple appgoldSort"},[t._v("裂变成本")])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"grid-content bg-purple appgoldSort"},[t._v("保活成本")])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"grid-content bg-purple appgoldSort"},[t._v("人均裂变成本")])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"grid-content bg-purple appgoldSort"},[t._v("人均保活成本")])])],1)],1),e("div",{staticClass:"appgoldDataBottom"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:1.5}},[e("div",{staticClass:"grid-content bg-purple appgoldDatatitle"},[t._v("昨日")])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"grid-content bg-purple appgoldDataNum"},[t._v(t._s(t.total))])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"grid-content bg-purple appgoldDataNum"},[t._v(t._s(t.split))])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"grid-content bg-purple appgoldDataNum"},[t._v(t._s(t.live))])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"grid-content bg-purple appgoldDataNum"},[t._v(t._s(t.splitPre))])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"grid-content bg-purple appgoldDataNum"},[t._v(t._s(t.livePre))])])],1)],1)]),e("div",{staticClass:"appgoldEchart"},[e("div",{staticClass:"appgoldDate"},[e("el-date-picker",{staticClass:"withdrawTime",attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.changeEchartTime},model:{value:t.echartDefaultDate,callback:function(a){t.echartDefaultDate=a},expression:"echartDefaultDate"}}),e("el-radio-group",{staticClass:"appgoldtargetType",on:{change:function(a){return t.changeEchartBtn()}},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[e("el-radio-button",{attrs:{label:"1"}},[t._v("金币总支出")]),e("el-radio-button",{attrs:{label:"2"}},[t._v("裂变成本")]),e("el-radio-button",{attrs:{label:"3"}},[t._v("保活成本")]),e("el-radio-button",{attrs:{label:"4"}},[t._v("人均裂变成本")]),e("el-radio-button",{attrs:{label:"5"}},[t._v("人均保活成本")])],1)],1),e("div",{staticClass:"appgoldEchartBox"},[e("div",{staticClass:"appgoldEchartimg"},[e("div",{staticStyle:{height:"400px"},attrs:{id:t.IDNAME}})])])]),e("div",{staticClass:"appgoldpieChart"},[e("div",{staticClass:"appgoldpieTop"},[e("el-date-picker",{staticClass:"withdrawTime",attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.changePieTime},model:{value:t.pieDefaultDate,callback:function(a){t.pieDefaultDate=a},expression:"pieDefaultDate"}})],1),e("div",{staticClass:"appgoldpieBottom"},[e("div",{staticStyle:{width:"40%",height:"400px"},attrs:{id:t.pieIDNAME}}),e("div",{staticStyle:{width:"40%",height:"400px"},attrs:{id:t.pieIDNAMEfission}}),e("div",{staticStyle:{width:"40%",height:"400px"},attrs:{id:t.pieIDNAMEkeeping}})])]),e("div",{staticClass:"appgoldDetailBox"},[e("div",{staticClass:"appgoldBoxTop"},[e("el-date-picker",{staticClass:"detailBoxTime",attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.changeBoxTime},model:{value:t.detailBoxDate,callback:function(a){t.detailBoxDate=a},expression:"detailBoxDate"}}),e("el-radio-group",{staticClass:"goldDetails",on:{change:function(a){return t.changeGoldDetails()}},model:{value:t.goldDetails,callback:function(a){t.goldDetails=a},expression:"goldDetails"}},[e("el-radio-button",{attrs:{label:"1"}},[t._v("金币")]),e("el-radio-button",{attrs:{label:"2"}},[t._v("人数")]),e("el-radio-button",{attrs:{label:"3"}},[t._v("次数")])],1),e("el-row",{staticClass:"download"},[e("el-button",{attrs:{type:"primary"}},[e("a",{attrs:{href:t.downloadHref}},[t._v("下载")])])],1)],1),e("div",{staticClass:"appgoldDetailBoxBottom"},[e("table",{staticClass:"detailTable",staticStyle:{border:"1px solid #dedede"},attrs:{id:"tab",border:"0",cellpadding:"0",cellspacing:"0"}},[e("tr",{staticClass:"biaotou"},[t._l(t.tableDataHeader,(function(a){return[e("th",{staticStyle:{}},[t._v(t._s(a))])]}))],2),t._l(t.tableData,(function(a){return[e("tr",{staticClass:"biaoCont"},[t._l(a,(function(a){return[e("td",{staticStyle:{}},[t._v(t._s(a))])]}))],2)]}))],2)])])])])])},l=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"appgoldpagetarge"},[e("span",{},[t._v("金币支出")])])}],o=(e("4160"),e("b0c0"),e("ac1f"),e("1276"),e("159b"),e("b1d0")),s=e("1271"),r=e("313e"),n=e.n(r),c=(e("1531"),{name:"appSurvey",data:function(){return{title:"APP金币支出",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",[e,a])}},{text:"最近一个月",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-2592e6),t.$emit("pick",[e,a])}},{text:"最近三个月",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-7776e6),t.$emit("pick",[e,a])}}]},pieDefaultDate:[],echartDefaultDate:[],detailBoxDate:[],tableData:[],tableDataHeader:[],total:"",split:"",live:"",splitPre:"",livePre:"",options:[],rightName:0,loading:!0,activeName:1,IDNAME:"echart1",Valuename:"全部",btnType:1,TargetType:1,status:-99,pieValueName:"",pieIDNAME:"echart1_1",pieIDNAMEfission:"echart1_2",pieIDNAMEkeeping:"echart1_3",goldDetails:1,downloadHref:""}},created:function(){document.title=this.title},activated:function(){document.title=this.title},mounted:function(){this.bindDrawal(),this.getAppRecentData(),this.getConfig()},methods:{getConfig:function(){var t=this;Object(o["a"])({method:"get",url:s["a"].recordUrl.getConfig,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){if(0==a.code){for(var e=a.data,i=0;i<e.length;i++)"摸鱼"==e[i].label?e[i].value=4:"快看"==e[i].label?e[i].value=5:"抖影"==e[i].label&&(e[i].value=3);var l={label:"全部",value:0};e.unshift(l),t.options=e,console.log("11",t.options)}})).catch((function(t){console.log(t)}))},bindDrawal:function(){this.detailBoxDate.push(this.common.formatDate(-7),this.common.formatDate(-1)),this.echartDefaultDate.push(this.common.formatDate(-7),this.common.formatDate(-1)),this.pieDefaultDate.push(this.common.formatDate(-7),this.common.formatDate(-1)),this.getPartData(),this.pieCircularChart("金币总支出分布",this.pieIDNAME,1),this.pieCircularChart("裂变成本构成图",this.pieIDNAMEfission,2),this.pieCircularChart("保活成本构成图",this.pieIDNAMEkeeping,3),this.getDetails()},getAppRecentData:function(){var t=this;Object(o["a"])({method:"get",url:s["a"].recordUrl.getGoldGeneralData+"?type="+this.rightName,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){t.loading=!1,t.total=a.data.total,t.split=a.data.split,t.live=a.data.live,t.splitPre=a.data.splitPre,t.livePre=a.data.livePre})).catch((function(t){console.log(t)}))},changeEchartBtn:function(){console.log("activeName",this.activeName),1==this.activeName?(this.Valuename="金币总支出",this.IDNAME="echart1",this.btnType=1):2==this.activeName?(this.Valuename="裂变成本",this.IDNAME="echart2",this.btnType=1):3==this.activeName?(this.Valuename="保活成本",this.IDNAME="echart3",this.btnType=1):4==this.activeName?(this.Valuename="人均裂变成本",this.IDNAME="echart4",this.btnType=1):5==this.activeName&&(this.Valuename="人均保活成本",this.IDNAME="echart5",this.btnType=1),this.getPartData();var t=[],a=[];a[0]=this.Valuename,t.push(a),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"趋势图数据状态选择",t)},changeGoldDetails:function(){var t;this.tableData=[],console.log("goldDetails",this.goldDetails),this.getDetails(),1==this.goldDetails?t="金币":2==this.goldDetails?t="人数":3==this.goldDetails&&(t="次数");var a=[],e=[];e[0]=t,a.push(e),a=JSON.stringify(a),window.LogList.checkLog("二郎神后台管理系统",this.title,"表格数据状态选择",a)},getPartData:function(){var t=this;Object(o["a"])({method:"get",url:s["a"].recordUrl.getGoldEChartsData+"?type="+t.rightName+"&ItemType="+t.activeName+"&startTime="+t.echartDefaultDate[0]+"&endtime="+t.echartDefaultDate[1],data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){if(t.loading=!1,0==a.code){t.partData=a.data,console.log("趋势图数据",t.partData);var e=[],i=[];t.partData.forEach((function(t,a){var l=t.dateStr;i.push(1*t.value),e.push(l)})),console.log("datelist",e),console.log("dataValueList",i),t.showechart(i,e,t.Valuename,t.IDNAME,t.btnType)}})).catch((function(t){console.log(t)}))},getDetails:function(){var t=this;Object(o["a"])({method:"get",url:s["a"].recordUrl.getGoldDetails+"?Type="+t.rightName+"&startTime="+t.detailBoxDate[0]+"&endtime="+t.detailBoxDate[1]+"&ShowType="+t.goldDetails,data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(a){t.loading=!1,t.tableDataHeader=a.data[0];for(var e=0;e<a.data.length;e++){var i;0!==e&&(i=a.data[e]),t.tableData.push(i)}console.log("表格数据",t.tableData),t.downloadHref=s["a"].recordUrl.getGoldPartDataExport+"?Type="+t.rightName+"&startTime="+t.detailBoxDate[0]+"&endtime="+t.detailBoxDate[1]+"&ShowType="+t.goldDetails})).catch((function(t){console.log(t)}))},changeBoxTime:function(){console.log(this.detailBoxDate),this.tableData=[],this.getDetails();var t=[],a=[];a[0]=this.detailBoxDate[0],a[1]=this.detailBoxDate[1],t.push(a),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"表格数据时间选择",t)},changeEchartTime:function(){console.log(this.echartDefaultDate),this.getPartData();var t=[],a=[];a[0]=this.echartDefaultDate[0],a[1]=this.echartDefaultDate[1],t.push(a),t=JSON.stringify(t),window.LogList.checkLog("二郎神后台管理系统",this.title,"趋势图时间选择",t)},pieCircularChart:function(t,a,e){var i=this;Object(o["a"])({method:"get",url:s["a"].recordUrl.getGoldPartData+"?type="+i.rightName+"&CircularType="+e+"&startTime="+i.pieDefaultDate[0]+"&endtime="+i.pieDefaultDate[1],data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){i.loading=!1;var l=e.data,o=[];l.forEach((function(t,a){var e=t.label,i=1*t.value,l={};l.name=e,l.value=i,o.push(l)})),i.showpieCharet(o,t,a)})).catch((function(t){console.log(t)}))},changePieTime:function(){console.log(this.pieDefaultDate),this.pieCircularChart("金币总支出分布",this.pieIDNAME,1),this.pieCircularChart("裂变成本构成图",this.pieIDNAMEfission,2),this.pieCircularChart("保活成本构成图",this.pieIDNAMEkeeping,3),detailArr[0]=this.pieDefaultDate[0],detailArr[1]=this.pieDefaultDate[1],detailList.push(detailArr),detailList=JSON.stringify(detailList),window.LogList.checkLog("二郎神后台管理系统",this.title,"饼状图时间选择",detailList)},changeRight:function(){var t;console.log("value",this.rightName),this.tableData=[],this.getDetails(),this.getAppRecentData(),this.getPartData(),this.loading=!0,1==this.rightName?t="爆米花":2==this.rightName?t="趣看":0==this.rightName?t="全部":4==this.rightName?t="摸鱼":5==this.rightName?t="快看":3==this.rightName&&(t="抖影");var a=[],e=[];e[0]=t,a.push(e),a=JSON.stringify(a),window.LogList.checkLog("二郎神后台管理系统",this.title,"渠道分类切换",a)},showpieCharet:function(t,a,e){var i,l=this,o=n.a.init(document.getElementById(e));i={title:{text:a+"分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)",transitionDuration:0},legend:{orient:"vertical",left:10,data:[]},series:[{name:a,type:"pie",selectedMode:"single",radius:[0,"30%"],label:{show:!0}},{name:a,type:"pie",radius:["40%","55%"],label:{formatter:"{b}({d}%) ",rich:{a:{color:"#999",lineHeight:22,align:"center"},b:{fontSize:15,lineHeight:20},per:{color:"#eee",backgroundColor:"#334455",padding:[2,4],borderRadius:2}}},data:t}]},o.setOption(i),o.on("click",(function(t){console.log("params",t);var a=t.name;if("日常任务"==a||"观看视频"==a||"第三方任务"==a||"新手任务"==a){var e=l.$router.resolve({name:"appSiredData",query:{}}),i=e.href,o=[],s=[];s[0]=a,o.push(s),o=JSON.stringify(o),window.LogList.checkLog("二郎神后台管理系统",l.title,"保活成本饼状图跳转",o),window.open(i,"_blank")}}))},showechart:function(t,a,e,i,l){var o,s,r,c,p=n.a.init(document.getElementById(i)),d=[];2==l?(t.forEach((function(t){d.push(t)})),o=Math.round(1.2*Math.max.apply(null,d)),r={trigger:"axis",formatter:function(t){var a="00:00";if(t[0].value>0){var e=Math.floor(t[0].value/3600),i=Math.floor(t[0].value%3600/60),l=Math.floor((t[0].value-60*i)%60);e<10&&(e="0"+e),i<10&&(i="0"+i),l<10&&(l="0"+l),a=e+":"+i+":"+l}else a="00:00:00";var o="";o+='<div><span style="color:#fff;">'+t[0].name+"</span><br/> ";for(var s=0;s<t.length;s++)o+='<span style="width: 8px;height: 8px;margin-right:5px;display:inline-block;border-radius: 50%;background-color:'+t[s].color+'"></span><span style="color:#fff;">'+t[s].seriesName+':</span><span style="color:#fff;">'+a+"</span><br/>";return o+="</div>",o}},c={textStyle:{color:"#666"},formatter:function(t){if(t>0){var a=Math.floor(t/3600),e=Math.floor(t%3600/60),i=Math.floor((t-60*e)%60);return a<10&&(a="0"+a),e<10&&(e="0"+e),i<10&&(i="0"+i),a+":"+e+":"+i}return"00:00:00"}}):3==l?(t.forEach((function(t){d.push(t)})),o=Math.round(1.2*Math.max.apply(null,d))):(t.forEach((function(t){d.push(t)})),o=Math.round(1.2*Math.max.apply(null,d)),r={trigger:"axis"},c={textStyle:{color:"#666"}}),p.setOption({tooltip:r,legend:{data:[]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:a,splitLine:{show:!1},axisLine:{lineStyle:{type:"solid",color:"#E6E6E6",width:"2"}},axisLabel:{textStyle:{color:"#666"}}},yAxis:{type:"value",min:s,max:o,splitLine:{lineStyle:{type:"dashed"}},axisLine:{lineStyle:{type:"solid",color:"#E6E6E6",width:"2"}},axisLabel:c},series:[{name:e,type:"line",stack:"总量",smooth:!0,itemStyle:{normal:{color:"#396FFF",lineStyle:{color:"#396FFF"}}},data:d}]})}}}),p=c,d=(e("e26c"),e("2877")),h=Object(d["a"])(p,i,l,!1,null,"6981f3a6",null);a["default"]=h.exports},"9f05":function(t,a,e){},e26c:function(t,a,e){"use strict";var i=e("9f05"),l=e.n(i);l.a}}]);
//# sourceMappingURL=chunk-2ba9492c.880bfb6831ef964c471f.1618470402363.js.map